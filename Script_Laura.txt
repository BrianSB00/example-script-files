SET SERVEROUTPUT ON SIZE UNLIMITED;

DECLARE
    CURSOR c_join_table IS
        SELECT 
            -- Include columns based on user's SELECT clause
            NVL(table_alias.column1, 0) AS column1,
            NVL(table_alias.column2, ' ') AS column2
            -- ... include all columns as determined by parsing SELECT clause
        FROM table1 table_alias1
        [PRESERVE_USER_JOIN_SYNTAX_EXACTLY]
        WHERE [EXACT_WHERE_CONDITIONS]
        AND ROWNUM <= 10;
BEGIN
    DBMS_OUTPUT.PUT_LINE('[ALL_SELECTED_COLUMNS_SEPARATED_BY_^]');
    
    FOR l_record in c_join_table LOOP 
        DBMS_OUTPUT.PUT_LINE(
            [ALL_FORMATTED_COLUMN_VALUES_SEPARATED_BY_^]
        );
    END LOOP;
 
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        DBMS_OUTPUT.PUT_LINE('No records found for the specified criteria.');
    WHEN OTHERS THEN
        DBMS_OUTPUT.PUT_LINE('An error occurred: ' || SQLERRM);
END;
/
